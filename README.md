# 屏幕颜色监控自动按键程序

## 简介

这是一个实时监控屏幕指定区域颜色变化的自动按键程序。当检测到目标颜色在监控区域中的占比超过设定阈值时，程序会自动按下指定的键盘按键。

适用场景：游戏辅助、自动化操作等需要根据屏幕颜色变化做出快速响应的场景。

## 安装说明

### 环境要求

- Python 3.7 

### 安装步骤

1. 克隆或下载本项目到本地

2. 安装依赖包：
```bash
pip install -r requirements.txt
```

如果安装速度较慢，可以使用国内镜像源：
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## 使用说明

### 启动程序

运行主程序：
```bash
python main.py
```

#### 检测参数设置
- **颜色容差**：允许的颜色偏差范围 (0-255)，值越大匹配越宽松
- **触发阈值 (%)**：目标颜色占比超过此百分比时触发按键
- **按键**：要按下的键盘按键（如：e, space, shift等）
- **冷却时间 (ms)**：两次按键之间的最小间隔时间
- **检查间隔 (ms)**：屏幕检测的时间间隔，值越小响应越快但CPU占用越高
- **按下延迟 (ms)**：按键按下后等待的时间，用于模拟按键的物理延迟

### 热键说明

| 按键 (默认) | 功能 |
| :--- | :--- |
| `F9` | **启动 / 停止** |
| `F10`| **暂停 / 恢复** |
| `F8` | **手动截图** |

以上为默认热键，你可以在程序界面的“热键设置”中进行修改。

**组合键配置方法：**

你可以设置由 `Alt`, `Ctrl`, `Shift` 和普通按键组合而成的快捷键。配置时，请用 `+` 号连接各个按键，例如：
- `alt+f8`
- `ctrl+s`
- `ctrl+alt+k`
- `ctrl+shift+p`

按键名称不区分大小写。

### 如何获取监控区域坐标

**手动截取区域**：

- 点击"📸 手动截取区域"按钮
- 程序会最小化，显示半透明遮罩
- 用鼠标拖拽框选要监控的区域
- 松开鼠标即可自动填入坐标
- 按ESC键可以取消操作
- 游戏中快捷键截图可能需要管理员模式

## 配置文件

程序会在同目录下生成 `